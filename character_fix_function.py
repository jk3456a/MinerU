
def fix_character_encoding(text: str) -> str:
    """修复No-OCR版本中的字符编码问题"""
    
    # 基础字符映射
    char_mapping = {
        # 全角数字转半角
        '０': '0', '１': '1', '２': '2', '３': '3', '４': '4',
        '５': '5', '６': '6', '７': '7', '８': '8', '９': '9',
        
        # 全角字母转半角
        'Ａ': 'A', 'Ｂ': 'B', 'Ｃ': 'C', 'Ｄ': 'D', 'Ｅ': 'E',
        'Ｆ': 'F', 'Ｇ': 'G', 'Ｈ': 'H', 'Ｉ': 'I', 'Ｊ': 'J',
        'Ｋ': 'K', 'Ｌ': 'L', 'Ｍ': 'M', 'Ｎ': 'N', 'Ｏ': 'O',
        'Ｐ': 'P', 'Ｑ': 'Q', 'Ｒ': 'R', 'Ｓ': 'S', 'Ｔ': 'T',
        'Ｕ': 'U', 'Ｖ': 'V', 'Ｗ': 'W', 'Ｘ': 'X', 'Ｙ': 'Y', 'Ｚ': 'Z',
        'ａ': 'a', 'ｂ': 'b', 'ｃ': 'c', 'ｄ': 'd', 'ｅ': 'e',
        'ｆ': 'f', 'ｇ': 'g', 'ｈ': 'h', 'ｉ': 'i', 'ｊ': 'j',
        'ｋ': 'k', 'ｌ': 'l', 'ｍ': 'm', 'ｎ': 'n', 'ｏ': 'o',
        'ｐ': 'p', 'ｑ': 'q', 'ｒ': 'r', 'ｓ': 's', 'ｔ': 't',
        'ｕ': 'u', 'ｖ': 'v', 'ｗ': 'w', 'ｘ': 'x', 'ｙ': 'y', 'ｚ': 'z',
        
        # 全角标点转半角
        '（': '(', '）': ')', '【': '[', '】': ']', '｛': '{', '｝': '}',
        '，': ',', '。': '.', '：': ':', '；': ';', '！': '!', '？': '?',
        '＂': '"', '＇': "'", '－': '-', '～': '~',
        
        # 特殊字符映射 (根据分析结果添加)
        '陨': 'I', '杂': 'S', '月': 'B', '晕': 'N', '怨': '9', '苑': '7', '愿': '8',
        '原': '0', '缘': '1', '园': '2', '员': '3', '猿': '5', '愿': '8',
        '悦': 'C', '陨': 'I', '孕': 'P', '圆': '0', '园': '2', '远': '6', '园': '2',
        '时': '时', '改': '政', '经': '济', '所': '出', '业': '版', '版': '社',
        '汉': '政', '经': '济', '业': '版', '版': '社',
    }
    
    # 应用字符映射
    for old_char, new_char in char_mapping.items():
        text = text.replace(old_char, new_char)
    
    return text
